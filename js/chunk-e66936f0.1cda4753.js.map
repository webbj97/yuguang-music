{"version":3,"sources":["webpack:///./src/page/playlist-details/index.vue?48f1","webpack:///./src/page/playlist-details/index.vue?6ba1","webpack:///./src/constants/index.js","webpack:///./src/page/playlist-details/header.vue?b23e","webpack:///src/page/playlist-details/header.vue","webpack:///./src/page/playlist-details/header.vue?613c","webpack:///./src/page/playlist-details/header.vue?d486","webpack:///src/page/playlist-details/index.vue","webpack:///./src/page/playlist-details/index.vue?474c","webpack:///./src/page/playlist-details/index.vue?1301","webpack:///./src/page/playlist-details/header.vue?5c39"],"names":["render","_vm","this","_h","$createElement","_c","_self","playlist","staticClass","ref","attrs","songs","_e","staticRenderFns","MAX_LIST_LENGTH","directives","name","rawName","value","expression","_v","_s","creator","nickname","createTime","_l","tag","key","trackCount","countUnit","playCount","description","component","id","artists","ar","duration","dt","mvId","mv","albumName","al","img","picUrl"],"mappings":"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","file":"js/chunk-e66936f0.1cda4753.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7955574f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7955574f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.playlist.id)?_c('div',{staticClass:\"playlist-details\"},[_c('DetailsHeader',{ref:\"header\",attrs:{\"playlist\":_vm.playlist}}),(_vm.songs.length)?_c('SongTable',{staticClass:\"song-table-com\",attrs:{\"songs\":_vm.songs}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const MAX_LIST_LENGTH = 20; // 歌单最大查询数量","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-details-header\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.playlist.coverImgUrl),expression:\"playlist.coverImgUrl\"}],attrs:{\"alt\":\"歌单\"}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"info__name\"},[_c('span',{staticClass:\"type\"},[_vm._v(\"歌单\")]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playlist.name))])]),_c('div',{staticClass:\"info__creator\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.creator.avatarUrl),expression:\"creator.avatarUrl\"}],staticClass:\"avatar\",attrs:{\"alt\":\"头像\"}}),_c('span',{staticClass:\"nickname\"},[_vm._v(_vm._s(_vm.creator.nickname))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.createTime)+\"创建\")])]),_c('div',{staticClass:\"details\"},[_c('span',{staticClass:\"details__title\"},[_vm._v(\"标签：\")]),_vm._l((_vm.playlist.tags),function(tag){return _c('span',{key:tag,staticClass:\"details__content\",attrs:{\"href\":\"javascript:void(0)\"}},[_vm._v(_vm._s(tag))])})],2),_c('div',{staticClass:\"details\"},[_c('span',{staticClass:\"details__title\"},[_vm._v(\"歌曲数：\")]),_c('span',{staticClass:\"details__content\"},[_vm._v(_vm._s(_vm.playlist.trackCount))]),_c('span',{staticClass:\"details__title\"},[_vm._v(\"播放量：\")]),_c('span',{staticClass:\"details__content\"},[_vm._v(_vm._s(_vm.countUnit(_vm.playlist.playCount)))])]),_c('div',{staticClass:\"details\"},[_c('span',{staticClass:\"details__title\"},[_vm._v(\"简介：\")]),_c('p',{staticClass:\"details__content\"},[_vm._v(_vm._s(_vm.playlist.description))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","!<!-- 组件说明 -->\n<template>\n    <div class=\"data-details-header\">\n        <div class=\"img-wrap\">\n            <img v-lazy=\"playlist.coverImgUrl\" alt=\"歌单\" />\n        </div>\n        <div class=\"info\">\n            <div class=\"info__name\">\n                <span class=\"type\">歌单</span>\n                <span class=\"name\">{{playlist.name}}</span>\n            </div>\n            <div class=\"info__creator\">\n                <img class=\"avatar\" v-lazy=\"creator.avatarUrl\" alt=\"头像\" />\n                <span class=\"nickname\">{{creator.nickname}}</span>\n                <span class=\"time\">{{createTime}}创建</span>\n            </div>\n            <div class=\"details\">\n                <span class=\"details__title\">标签：</span>\n                <span class=\"details__content\" href=\"javascript:void(0)\" v-for=\"tag in playlist.tags\" :key=\"tag\">{{tag}}</span>\n            </div>\n            <div class=\"details\">\n                <span class=\"details__title\">歌曲数：</span>\n                <span class=\"details__content\">{{playlist.trackCount}}</span>\n                <span class=\"details__title\">播放量：</span>\n                <span class=\"details__content\">{{countUnit(playlist.playCount)}}</span>\n            </div>\n            <div class=\"details\">\n                <span class=\"details__title\">简介：</span>\n                <p class=\"details__content\">{{playlist.description}}</p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { formatDate, countUnit } from \"@utils\";\n\nexport default {\n    name: \"DetailsHeader\",\n    props: {\n        playlist: {\n            type: Object,\n            default: () => ({})\n        }\n    },\n    components: {},\n    data() {\n        return {};\n    },\n    computed: {\n        creator() {\n            const { creator } = this.playlist;\n            return creator;\n        },\n        createTime() {\n            return formatDate(this.playlist.createTime || 0, \"yyyy-MM-dd\");\n        }\n    },\n    mounted() {},\n    methods: {\n        formatDate,\n        countUnit\n    }\n};\n</script>\n\n<style lang='scss' scoped>\n.data-details-header {\n    display: flex;\n    .img-wrap {\n        @include img-wrap(200px);\n        margin-right: 20px;\n        img {\n            border-radius: 4px;\n        }\n    }\n    .info {\n        flex: 1;\n        &__name {\n            display: flex;\n            align-items: center;\n            .type {\n                margin-right: 10px;\n                padding: 2px 6px;\n                border: 1px solid $music-color;\n                color: $music-color;\n                border-radius: 4px;\n                font-size: 14px;\n            }\n            .name {\n                font-size: 26px;\n                color: var(--font-color-white);\n            }\n        }\n        &__creator {\n            display: flex;\n            align-items: center;\n            margin-top: 15px;\n            margin-bottom: 20px;\n            color: var(--font-color-white);\n            .avatar {\n                margin-right: 5px;\n                width: 28px;\n                height: 28px;\n                border-radius: 50%;\n            }\n            .nickname {\n                color: $blue;\n                margin-right: 5px;\n            }\n        }\n    }\n    .details {\n        display: flex;\n\n        font-size: 14px;\n        margin-bottom: 12px;\n        &__title {\n            min-width: 45px;\n            color: var(--font-color-white);\n        }\n        &__content {\n            margin-right: 15px;\n            color: rgb(112, 109, 109);\n            @include ellipsis-more(2);\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=40b8acce&scoped=true&\"\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=40b8acce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40b8acce\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"playlist-details\" v-if=\"playlist.id\">\n        <DetailsHeader :playlist=\"playlist\" ref=\"header\" />\n        <SongTable class=\"song-table-com\" v-if=\"songs.length\" :songs=\"songs\" />\n    </div>\n</template>\n\n<script>\nimport { getListDetail, getSongDetail } from \"@/api\";\nimport { createSong, scrollInto } from \"@utils\";\nimport { MAX_LIST_LENGTH } from \"@constants\";\nimport DetailsHeader from \"./header\";\nimport SongTable from \"@/components/song-table\";\n\nexport default {\n    components: { SongTable, DetailsHeader },\n    data() {\n        return {\n            playlist: {},\n            songs: [],\n        };\n    },\n    computed: {\n        id() {\n            return Number(this.$route.params.id);\n        },\n    },\n    watch: {\n        id: {\n            handler() {\n                this.init();\n                this.scrollToHeader();\n            },\n            immediate: true,\n        },\n    },\n    mounted() {\n        this.init();\n    },\n    methods: {\n        async init() {\n            const { id } = this;\n            const { playlist = [] } = await getListDetail({ id });\n            console.log('playlist:', playlist);\n            this.playlist = playlist;\n            this.fetchSongs(playlist);\n        },\n        // 获取歌单内歌曲\n        async fetchSongs(playlist) {\n            const trackIds = playlist.trackIds\n                .slice(0, MAX_LIST_LENGTH)\n                .map(({ id }) => +id);\n\n            const { songs } = await getSongDetail(trackIds);\n\n            const newSongs = songs.map(({ id, name, al, ar, mv, dt }) =>\n                createSong({\n                    id,\n                    name,\n                    artists: ar,\n                    duration: dt,\n                    mvId: mv,\n                    albumName: al.name,\n                    img: al.picUrl,\n                })\n            );\n            this.songs = newSongs;\n        },\n        scrollToHeader() {\n            const { header } = this.$refs;\n            if (header) {\n                scrollInto(header.$el);\n            }\n        },\n    },\n};\n</script>\n\n<style lang='scss' scoped>\n.playlist-details {\n    padding: 20px;\n    .song-table-com {\n        margin-top: 40px;\n    }\n}\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7955574f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7955574f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7955574f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=40b8acce&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=40b8acce&lang=scss&scoped=true&\""],"sourceRoot":""}